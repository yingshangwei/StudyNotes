**tcp主要的连接状态描述**：

- **fin-wait-1**   ：主动发起关闭端发送完自己的fin包后进入该状态
- **closing**       ：主动发起关闭端发送完自己的fin包后，为收到对应ack包，反而先收到对端发送的fin包，则会进入该状态。
- **fin-wait-2**   ：主动发起关闭端发完fin包接着收到对应的ack包，就进入该状态
- **time-wait**   ：主动发起关闭端在收发完所有的fin包和ack包后进入该状态，主要是用来防止对端发起ack包的重传请求，而自己已经关闭，导致对端非正常关闭的情况。
- **closed-wait**：被动关闭端在接受到对端的关闭请求后，发送ack包后进入的状态，之后主要是处理还未发送完的信息
- **last-ack**      ：被动关闭端发送完自己的fin包后进入该状态，等待对端的ack包

**tcp流量控制：**流量控制主要是消息接受方控制消息发送方的发送的数据量，使得发送方发送的数据量与接受方处理数据的能力相适配，防止发送数据过多导致接受方处理能力下降。

**tcp拥塞控制：**拥塞控制主要是为了平衡整体网络的收发能力，避免在网络使用率很高的情况下，某一个连接占用过多的当前网络能力，主要受时延和发送方网络带宽影响。其主要方法是 慢开始、拥塞避免、快重传、快恢复

- 慢开始：即cwnd开始从1开始，指数递增，直到慢开始门阈值（因为开始的时候不知道网络状况如合，必须慢慢尝试，先污染后处理总是比预先防治要麻烦许多）

- 拥塞避免：当cwnd到达门开始阈值后，就进入拥塞避免状态，cwnd开始成线性递增，防止过快的增长导致网络拥塞的产生。

  当某个数据传输超时时，就假定当前网络状况不加，需要限制当前连接的发送数据量，操作就是减半慢开始的门阈值，并出示cwnd为1（当前网络情况不佳的时候，就要减小当前连接会使用的网络能力上限）

- 快重传：即收到三次重复ack时，无视超时定时器，直接重新发送未收到ack的数据包

- 快恢复：即收到三次冗余ack时，假定当前的网络状况恢复的不错，那么发送方就要一定程度上恢复自己之前发送数据的能力，而不是继续缓慢增加

发送窗口的真正大小=min(rwnd,cwnd)

滑动窗口的单位是字节



